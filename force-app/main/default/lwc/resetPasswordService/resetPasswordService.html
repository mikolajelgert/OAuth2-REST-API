<template>
    <div class="login-container">
        <template if:true={isVisible}>
            <div class="slds-notify slds-notify_toast slds-theme_success">
                <span class="slds-assistive-text">Success</span>
                <div class="slds-notify__content">
                    <h2 class="slds-text-heading_small">{message}</h2>
                </div>
            </div>
        </template>
        <img src={images.cloud} alt="salesforce-cloudLogo" width="150" height="150" class="cloud-header"/>
        <div class="header">
            <p>OAuth REST_API</p>
        </div>
        <div class="body-container">
            <p class="body-header">Password Reset</p>
            <div class="form-login">
                <lightning-input class={usernameInputClass} type="text" name="username" id="username" label="Username:" onchange={handleUsername} onfocus={resetFlag}></lightning-input>
                <template lwc:if={isUserNotExists}>
                    <p class="text-error">User does not exist.</p>
                </template>
            </div>
            <div class="form-password">
                <lightning-input
                class="password" 
                type="password" 
                name="password"
                id="password" 
                label="New password:"
                pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" 
                message-when-pattern-mismatch="8 characters (letters and numbers)" 
                onchange={handlePassword} 
                onfocus={resetFlag}></lightning-input>
            </div>
            <div class="form-submit">
                <lightning-button variant="brand" type="submit" onclick={checkCredentials} label="Reset password" disabled={areCredentialsCorrect}></lightning-button>
            </div>
        </div>
    </div>
</template>